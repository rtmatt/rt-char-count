$.fn.rtcharcount=function(t){return new RTCharacterCountField(this[0],t)};var RTCharacterCountField=function(t,e){return this.element=t,this.charCount=0,this.valid=!1,this.counter_block=null,this.options=$.extend(this.defaults,e),this.max=this.options.max,this.min=this.options.min,"function"!=typeof jQuery?void console.log("this currently depends on jquery"):void("undefined"!=typeof t&&this.__init())};RTCharacterCountField.prototype={defaults:{min:0,max:100},__prepareHelpText:function(){var t=[this.max+" Characters"];return this.min>0?t.unshift("between "+this.min+" and "):t.unshift("no more than "),t.unshift("Please enter "),t.join("")},__append_counterElement:function(){var t=document.createElement("div"),e=document.createElement("P");t.classList.add("rt-form-count-element"),e.classList.add("rt-form-count-element__counter");var n=document.createElement("span");this.count_element=n,this.count_element.innerHTML=this.charCount;var i=document.createTextNode("/"+this.max),a=document.createElement("p");a.classList.add("rt-form-count-element__help-text"),a.innerHTML=this.__prepareHelpText(),t.appendChild(a),e.appendChild(n),e.appendChild(i),t.appendChild(e);var s=this.input.parentNode.appendChild(t);this.counter_block=s},__updateCharacterCount:function(){this.charCount=this.input.value.length,this.count_element.innerHTML=this.charCount},__updateClass:function(t){console.log("updating class");var e=t;return e.is_valid?(e.counter_block.classList.add("valid"),void e.counter_block.classList.remove("invalid")):(e.counter_block.classList.add("invalid"),void e.counter_block.classList.remove("valid"))},__attachListeners:function(){var t=this;$(this.input).on("keyup keydown",function(){t.__updateCharacterCount(),t.__checkValid(t.__updateClass(t))})},__checkValid:function(t){if(console.log("checking value"),this.is_valid=this.charCount<=this.max&&this.charCount>this.min,this.charCount>this.max+5){var e=this.input.value,n=e.substring(0,this.max+5);this.input.value=n,this.__updateCharacterCount()}return"function"==typeof t&&t(),this.is_valid},__init:function(){this.input=this.element.querySelectorAll(".form-control")[0],this.__append_counterElement(),this.__attachListeners(),this.__updateCharacterCount(),this.__checkValid(),this.__updateClass(this)}};